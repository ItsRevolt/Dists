"use strict";var ping={name:"ping",description:"Ping!",execute(e,t){console.log("received"),e.channel.send("Pong.")}},echo={name:"echo",description:"Get message content and sends it back",execute(e,t){e.channel.send(e.content)}};const path=require("path"),consola=require("consola");let Files=[ping,echo];function init(e,t){for(const t of Files)consola.info(t),e.commands.set(t.name,t);e.on("message",n=>{if(consola.info(n.content),!n.content.startsWith(t)||n.author.bot)return;const o=n.content.slice(t.length).split(/ +/),r=o.shift().toLowerCase();if(e.commands.has(r))try{e.commands.get(r).execute(n,o)}catch(e){consola.error(e),n.reply("there was an error trying to execute that command!")}})}const fs=require("fs"),Discord=require("discord.js"),consola$1=require("consola"),client=new Discord.Client;client.commands=new Discord.Collection;const low=require("lowdb"),FileSync=require("lowdb/adapters/FileSync"),adapter=new FileSync("db.json"),db=low(adapter);var prefix=db.get("prefix").value(),token=db.get("token").value();function login(){init(client,prefix),client.login(token),client.on("ready",()=>{consola$1.success("Bot Started Successfully")})}var inquirer=require("inquirer");const consola$2=require("consola"),low$1=require("lowdb"),FileSync$1=require("lowdb/adapters/FileSync"),adapter$1=new FileSync$1("db.json"),db$1=low$1(adapter$1),Discord$1=require("discord.js"),client$1=new Discord$1.Client;let questions=[{type:"input",name:"token",message:"What's your bots token?",validate:function(e){return null!==e||"string"!==e||"Please enter a valid token"}},{type:"input",name:"prefix",message:"What's prefix to get bots attention?",default:"!",validate:function(e){return null!==e||"string"!==e?e.length<=5||"Prefix must not be longer than 5 characters":"Please enter a valid prefix"}},{type:"input",name:"admingroup",message:"What is the admin group called on your server?",default:"Admin",validate:function(e){return null!==e||"string"!==e||"Please enter a valid admin group"}},{type:"input",name:"moderatorgroup",message:"What is the moderator group called on your server?",default:"Moderator",validate:function(e){return null!==e||"string"!==e||"Please enter a valid moderator group"}}];function cli(){inquirer.prompt(questions).then(e=>{db$1.set("token",e.token).write(),db$1.set("firstrun",!1).write(),db$1.set("prefix",e.prefix).write(),db$1.set("admingroup",e.admingroup).write(),db$1.set("moderatorgroup",e.moderatorgroup).write(),consola$2.success(`Your bot has been created with token: ${e.token}`),consola$2.info('To start your bot, type "node dists.js"'),client$1.generateInvite(["ADMINISTRATOR"]).then(e=>{consola$2.info(`To add the bot to your guild, follow this link: ${e}`)}),client$1.destroy()})}const low$2=require("lowdb"),FileSync$2=require("lowdb/adapters/FileSync"),adapter$2=new FileSync$2("db.json"),db$2=low$2(adapter$2);db$2.defaults({commandAliases:[],admingroup:"",moderatorgroup:"",permissions:[],firstrun:!0,prefix:""}).write();var firstrun=db$2.get("firstrun").value();1==firstrun?cli():login();
